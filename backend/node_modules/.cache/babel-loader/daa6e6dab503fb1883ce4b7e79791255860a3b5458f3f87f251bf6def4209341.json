{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:3000/api/auth';\nexport const login = async (email, password) => {\n  const response = await axios.post(`${API_URL}/login`, {\n    email,\n    password\n  });\n  if (response.data.token) {\n    localStorage.setItem('token', response.data.token);\n    localStorage.setItem('user', JSON.stringify(response.data.user));\n  }\n  return response.data;\n};\nexport const register = async (name, email, password, nom_famille) => {\n  const response = await axios.post(`${API_URL}/register`, {\n    name,\n    email,\n    password,\n    nom_famille\n  });\n  if (response.data.token) {\n    localStorage.setItem('token', response.data.token);\n    localStorage.setItem('user', JSON.stringify(response.data.user));\n  }\n  return response.data;\n};\nexport const logout = () => {\n  localStorage.removeItem('token');\n  localStorage.removeItem('user');\n};\nexport const getCurrentUser = () => {\n  const userStr = localStorage.getItem('user');\n  if (userStr) return JSON.parse(userStr);\n  return null;\n};\nexport const authHeader = () => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    return {\n      Authorization: `Bearer ${token}`\n    };\n  }\n  return {};\n};","map":{"version":3,"names":["axios","API_URL","login","email","password","response","post","data","token","localStorage","setItem","JSON","stringify","user","register","name","nom_famille","logout","removeItem","getCurrentUser","userStr","getItem","parse","authHeader","Authorization"],"sources":["C:/Users/luchi/Documents/DevProject/mon-appli-Recette/src/Backend/auth.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:3000/api/auth';\r\n\r\nexport const login = async (email, password) => {\r\n    const response = await axios.post(`${API_URL}/login`, { email, password });\r\n    if (response.data.token) {\r\n        localStorage.setItem('token', response.data.token);\r\n        localStorage.setItem('user', JSON.stringify(response.data.user));\r\n    }\r\n    return response.data;\r\n};\r\nexport const register = async (name, email , password, nom_famille ) => {\r\n  const response = await axios.post(`${API_URL}/register`, {\r\n    name,\r\n    email,\r\n    password,\r\n    nom_famille\r\n  });\r\n  if (response.data.token) {\r\n    localStorage.setItem('token', response.data.token);\r\n    localStorage.setItem('user', JSON.stringify(response.data.user));\r\n  }\r\n  return response.data;\r\n};\r\n\r\nexport const logout = () => {\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('user');\r\n};\r\n\r\nexport const getCurrentUser = () => {\r\n  const userStr = localStorage.getItem('user');\r\n  if (userStr) return JSON.parse(userStr);\r\n  return null;\r\n};\r\n\r\nexport const authHeader = () => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    return { Authorization: `Bearer ${token}` };\r\n  }\r\n  return {};\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,gCAAgC;AAEhD,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;EAC5C,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAI,CAAC,GAAGL,OAAO,QAAQ,EAAE;IAAEE,KAAK;IAAEC;EAAS,CAAC,CAAC;EAC1E,IAAIC,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;IACrBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC;IAClDC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACE,IAAI,CAACM,IAAI,CAAC,CAAC;EACpE;EACA,OAAOR,QAAQ,CAACE,IAAI;AACxB,CAAC;AACD,OAAO,MAAMO,QAAQ,GAAG,MAAAA,CAAOC,IAAI,EAAEZ,KAAK,EAAGC,QAAQ,EAAEY,WAAW,KAAM;EACtE,MAAMX,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAI,CAAC,GAAGL,OAAO,WAAW,EAAE;IACvDc,IAAI;IACJZ,KAAK;IACLC,QAAQ;IACRY;EACF,CAAC,CAAC;EACF,IAAIX,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;IACvBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC;IAClDC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACE,IAAI,CAACM,IAAI,CAAC,CAAC;EAClE;EACA,OAAOR,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMU,MAAM,GAAGA,CAAA,KAAM;EAC1BR,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;EAChCT,YAAY,CAACS,UAAU,CAAC,MAAM,CAAC;AACjC,CAAC;AAED,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAClC,MAAMC,OAAO,GAAGX,YAAY,CAACY,OAAO,CAAC,MAAM,CAAC;EAC5C,IAAID,OAAO,EAAE,OAAOT,IAAI,CAACW,KAAK,CAACF,OAAO,CAAC;EACvC,OAAO,IAAI;AACb,CAAC;AAED,OAAO,MAAMG,UAAU,GAAGA,CAAA,KAAM;EAC9B,MAAMf,KAAK,GAAGC,YAAY,CAACY,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIb,KAAK,EAAE;IACT,OAAO;MAAEgB,aAAa,EAAE,UAAUhB,KAAK;IAAG,CAAC;EAC7C;EACA,OAAO,CAAC,CAAC;AACX,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}